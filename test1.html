<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        textarea {
            width: 100%;
            height: 200px;
            margin-top: 10px;
        }
    </style>

</head>

<body>
    <!-- <h1>上传图片或者拖动图片到框内获取图片 base64 编码</h1>
    <input type='file' multiple /><br />
    <textarea></textarea>
    <script>
        document.querySelector('input').onchange = function () {
            var reader = new FileReader();
            console.log(reader)
            reader.onload = function () {
                var dataURL = reader.result;
                document.querySelector('textarea').innerHTML = dataURL;
            };
            reader.readAsDataURL(this.files[0]);
        };
        // drag & drop
        var ipt = document.querySelector('textarea');
        ipt.ondragover = function () { return false; };
        // Add drop handler
        ipt.ondrop = function (e) {
            e.stopPropagation();
            e.preventDefault();
            e = e || window.event;
            var files = e.dataTransfer.files;
            var reader = new FileReader();
            reader.onload = function () {
                var dataURL = reader.result;
                document.querySelector('textarea').innerHTML = dataURL;
            };
            reader.readAsDataURL(files[0]);
        };
        var blob = new Blob(["Hello hanzichi","即使在经历过十八载沧桑的今天"]);
        var a = document.createElement("a");
        a.href = window.URL.createObjectURL(blob);
        a.download = "a.txt";
        a.textContent = "Download";

        document.body.appendChild(a);
    </script> -->
    <input type='file' multiple /><br />
    <img />
    <script>
        document.querySelector("input").onchange = function () {
            var files = this.files;
            console.log( URL.createObjectURL(files[0]))
            document.querySelector("img").src = URL.createObjectURL(files[0]);
        }
    </script>   
</body>

</html>